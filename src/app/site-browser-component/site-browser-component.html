<div class="container py-3">
  <h2>Browse Sites</h2>

  <div *ngIf="loading" class="alert alert-info">Loading sites…</div>
  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <ul *ngIf="!loading && !error && sites?.length" class="list-group">
    <li class="list-group-item" *ngFor="let s of sites">
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <strong>Site #{{ s.id }}</strong>
          <div class="small text-offwhite" *ngIf="s.location || s.qth">
            {{ s.location }}<span *ngIf="s.location && s.qth"> • </span>{{ s.qth }}
          </div>
          <div class="small" *ngIf="s.latitude != null && s.longitude != null">
            {{ s.latitude }}, {{ s.longitude }}
          </div>
        </div>
        <span class="badge" [class.bg-success]="s.category == 'ARMY_BASE'" [class.bg-secondary]="s.category != 'ARMY_BASE'">
          {{ s.category | underscoreToSpace | titlecase }}
        </span>
      </div>
    </li>
  </ul>

  <div *ngIf="!loading && !error && (!sites || !sites.length)" class="text-muted">
    No sites found.
  </div>
</div>
